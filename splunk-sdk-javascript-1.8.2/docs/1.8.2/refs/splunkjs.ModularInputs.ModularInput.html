<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Splunk SDK for JavaScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <!-- Le styles -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">
    <style type="text/css">
      body {
        margin-top: 10px;
        margin-bottom: 10px;
      }
      .sidebar-nav {
        padding: 9px 0;
      }
      
      .nav .nav-header {
        text-transform: none;
        font-size: 13px;
      }
      
      .method {
        margin-bottom: 18px;
        clear: both;
      }
      
      .method section {
        margin-top: 10px;
      }
      
      .method section h4 {
        margin-bottom: 5px;
      }
      
      .code-link {
        margin-bottom: 5px;
      }
      
      section.code {
        position: relative;
      }
      
      pre {
        overflow-x: auto;
        white-space: pre;
        word-wrap: normal;
      }
      
      .pre-scrollable {
        overflow-y: auto;
      }
      
      .code-toggle {
        position: absolute;
        right: 0px;
        top: 0px;
        padding-bottom: 5px;
      }
      
      section.code pre {
        margin-top: 10px;
      }
      
      code .keyword, code .special {
        font-weight: bold;
        color: black;
      }
      code .string, code .regexp {
        color: green
      }
      code .class { 
        color: blue
      }
      code .number {
        color: red
      }
      code .comment {
        color: grey;
        font-style: italic;
      }
      
      .param-name {
        font-family: monospace;
      }
      
      .param-type {
        font-style: italic;
      }
      
      .return-type {
        font-style: italic;
      }
      
      .returns p {
        display: inline-block;
      }
      
      section.syntax span {
        font-family: monospace;
      }
      
      .signature {
        font-family: monospace;
      }
    </style>
    <link href="assets/css/bootstrap-responsive.css" rel="stylesheet">
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
                          <li class="nav-header"><a href="splunkjs.Async.html">splunkjs.Async</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Context.html">splunkjs.Context</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Http.html">splunkjs.Http</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Logger.html">splunkjs.Logger</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.Argument.html">splunkjs.ModularInputs.Argument</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.Event.html">splunkjs.ModularInputs.Event</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.EventWriter.html">splunkjs.ModularInputs.EventWriter</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.InputDefinition.html">splunkjs.ModularInputs.InputDefinition</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.Logger.html">splunkjs.ModularInputs.Logger</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.ModularInput.html">splunkjs.ModularInputs.ModularInput</a></li>
              <li>
                <ul class="nav nav-list">
                                  <li class="nav-header"><a href="#splunkjs.ModularInputs.ModularInput-globals">Globals</a></li>
                                  <li><a href="#splunkjs.ModularInputs.ModularInput+end">end</a></li>
                                  <li><a href="#splunkjs.ModularInputs.ModularInput+runScript">runScript</a></li>
                                  <li><a href="#splunkjs.ModularInputs.ModularInput+service">service</a></li>
                                  <li><a href="#splunkjs.ModularInputs.ModularInput+setup">setup</a></li>
                                  <li><a href="#splunkjs.ModularInputs.ModularInput+start">start</a></li>
                                  <li><a href="#splunkjs.ModularInputs.ModularInput+teardown">teardown</a></li>
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.Scheme.html">splunkjs.ModularInputs.Scheme</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.ModularInputs.ValidationDefinition.html">splunkjs.ModularInputs.ValidationDefinition</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.html">splunkjs.Service</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Application.html">splunkjs.Service.Application</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Applications.html">splunkjs.Service.Applications</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Collection.html">splunkjs.Service.Collection</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.ConfigurationFile.html">splunkjs.Service.ConfigurationFile</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.ConfigurationStanza.html">splunkjs.Service.ConfigurationStanza</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Configurations.html">splunkjs.Service.Configurations</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.DataModel.html">splunkjs.Service.DataModel</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.DataModelCalculation.html">splunkjs.Service.DataModelCalculation</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.DataModelConstraint.html">splunkjs.Service.DataModelConstraint</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.DataModelField.html">splunkjs.Service.DataModelField</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.DataModelObject.html">splunkjs.Service.DataModelObject</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.DataModels.html">splunkjs.Service.DataModels</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Endpoint.html">splunkjs.Service.Endpoint</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Entity.html">splunkjs.Service.Entity</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.FiredAlert.html">splunkjs.Service.FiredAlert</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.FiredAlertGroup.html">splunkjs.Service.FiredAlertGroup</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.FiredAlertGroupCollection.html">splunkjs.Service.FiredAlertGroupCollection</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Index.html">splunkjs.Service.Index</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Indexes.html">splunkjs.Service.Indexes</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Job.html">splunkjs.Service.Job</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Jobs.html">splunkjs.Service.Jobs</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Pivot.html">splunkjs.Service.Pivot</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.PivotSpecification.html">splunkjs.Service.PivotSpecification</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Resource.html">splunkjs.Service.Resource</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.SavedSearch.html">splunkjs.Service.SavedSearch</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.SavedSearches.html">splunkjs.Service.SavedSearches</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.ServerInfo.html">splunkjs.Service.ServerInfo</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.StoragePassword.html">splunkjs.Service.StoragePassword</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.StoragePasswords.html">splunkjs.Service.StoragePasswords</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.User.html">splunkjs.Service.User</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Users.html">splunkjs.Service.Users</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.View.html">splunkjs.Service.View</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Service.Views.html">splunkjs.Service.Views</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.Utils.html">splunkjs.Utils</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
                          <li class="nav-header"><a href="splunkjs.private.BaseService.html">splunkjs.private.BaseService</a></li>
              <li>
                <ul class="nav nav-list">
                </ul>
              </li>
            </ul>
          </div><!--/well -->
        </div><!--/span-->
        <div class="span8">
                
                
                
                
                
                
                
                
                
                
                  <div class="page-header" id="splunkjs.ModularInputs.ModularInput-globals">
            <h2>splunkjs.ModularInputs.ModularInput Module Globals</h2>
          </div>
                  <section class="method well" id="splunkjs.ModularInputs.ModularInput+end">
            <header>
              <div class="method-header">
                <h3 class="method-name">end</h3>
              </div>
              <h5 class="signature">splunkjs.ModularInputs.ModularInput.end</h5>
            </header>
          
            <section class="content">
              <p>Runs once the streaming ends, for an input (upon successfully streaming all events).</p>
            </section>
            
            <section class="syntax">
                          <h4>Syntax</h4>
              <span>ModularInput.prototype.end = function(name, definition, done)</span>
            </section>
            
            <section class="params">
                          <h4>Parameters</h4>
              
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                                  <tr>
                    <td class="param-name">name</td>
                    <td class="param-type">String</td>
                    <td class="param-description"><p>The name of this modular input.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">definition</td>
                    <td class="param-type">Object</td>
                    <td class="param-description"><p>An InputDefinition object.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">done</td>
                    <td class="param-type">Function</td>
                    <td class="param-description"><p>The function to call when done: <code>(err)</code>.</p></td>
                  </tr>
                </tbody>
              </table>
            </section>
            
            <section class="returns">
            </section>
            
            <section class="examples">
            </section>
                        
            <section class="code">
              
              <h4 class="code-link">Source (<a target="_blank" href="https://github.com/splunk/splunk-sdk-javascript/blob/master/lib/modularinputs/modularinput.js#L289">lib/modularinputs/modularinput.js:289</a>)</h4>  
              <a class="btn btn-mini code-toggle"><i class="icon-plus"></i></a>
              
              <pre class="hidden" class="linenums pre-scrollable"><code>ModularInput.prototype.end = function(name, definition, done) {
    done();
};</code></pre>
            </section>
          </section>
                  <section class="method well" id="splunkjs.ModularInputs.ModularInput+runScript">
            <header>
              <div class="method-header">
                <h3 class="method-name">runScript</h3>
              </div>
              <h5 class="signature">splunkjs.ModularInputs.ModularInput.runScript</h5>
            </header>
          
            <section class="content">
              <p>Handles all the specifics of running a modular input.</p>
            </section>
            
            <section class="syntax">
                          <h4>Syntax</h4>
              <span>ModularInput.runScript = function(exports, args, eventWriter, inputStream, callback)</span>
            </section>
            
            <section class="params">
                          <h4>Parameters</h4>
              
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                                  <tr>
                    <td class="param-name">exports</td>
                    <td class="param-type">Object</td>
                    <td class="param-description"><p>An object representing a modular input script.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">args</td>
                    <td class="param-type">Array</td>
                    <td class="param-description"><p>A list of command line arguments passed to this script.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">eventWriter</td>
                    <td class="param-type">Object</td>
                    <td class="param-description"><p>An <code>EventWriter</code> object for writing event.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">inputStream</td>
                    <td class="param-type">Object</td>
                    <td class="param-description"><p>A <code>Stream</code> object for reading inputs.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">callback</td>
                    <td class="param-type">Function</td>
                    <td class="param-description"><p>The function to call after running this script: <code>(err, status)</code>.</p></td>
                  </tr>
                </tbody>
              </table>
            </section>
            
            <section class="returns">
            </section>
            
            <section class="examples">
            </section>
                        
            <section class="code">
              
              <h4 class="code-link">Source (<a target="_blank" href="https://github.com/splunk/splunk-sdk-javascript/blob/master/lib/modularinputs/modularinput.js#L54">lib/modularinputs/modularinput.js:54</a>)</h4>  
              <a class="btn btn-mini code-toggle"><i class="icon-plus"></i></a>
              
              <pre class="hidden" class="linenums pre-scrollable"><code>ModularInput.runScript = function(exports, args, eventWriter, inputStream, callback) {
    // Default empty functions for life cycle events, this is mostly used for the unit tests
    exports.setup       = exports.setup     || ModularInput.prototype.setup;
    exports.start       = exports.start     || ModularInput.prototype.start;
    exports.end         = exports.end       || ModularInput.prototype.end;
    exports.teardown    = exports.teardown  || ModularInput.prototype.teardown;
    var that = this;
    // Resume streams before trying to read their data.
    // If the inputStream is a TTY, we don&#39;t want to open the stream as it will hold the process open.
    if (inputStream.resume &amp;&amp; !inputStream.isTTY) {
        inputStream.resume();
    }
    var bigBuff = new Buffer(0);
    // When streaming events...
    if (args.length === 1) {
        // After waiting 30.5 seconds for input definitions, assume something bad happened
        var inputDefintionsReceivedTimer = setTimeout(function() {
            callback(new Error(&quot;Receiving input definitions prior to streaming timed out.&quot;), 1);
        }, 30500);
        // Listen for data on inputStream.
        inputStream.on(&quot;data&quot;, function(chunk) {
            // Chunk will be a Buffer when interacting with Splunk.
            bigBuff = Buffer.concat([bigBuff, chunk]);
            // Remove any trailing whitespace.
            var bufferString = bigBuff.toString(&quot;utf8&quot;, 0, bigBuff.length).trim();
            
            if (utils.endsWith(bufferString, &quot;&lt;/input&gt;&quot;)) {
                // If we&#39;ve received all of the input definitions, clear the timeout timer
                clearTimeout(inputDefintionsReceivedTimer);
                var found = InputDefinition.parse(bufferString);
                exports._inputDefinition = found;
                that._inputDefinition = found;
                Async.chain([
                        function(done) {
                            Async.parallelEach(
                                Object.keys(exports._inputDefinition.inputs),
                                function (name, index, doneEach) {
                                    var input = exports._inputDefinition.inputs[name];
                                    
                                    Async.chain([
                                            function(innerDone) {
                                                exports.start(name, input, innerDone);
                                            },
                                            function(innerDone) {
                                                exports.streamEvents(name, input, eventWriter, innerDone);
                                            },
                                            function(innerDone) {
                                                // end() will only be called if streamEvents doesn&#39;t fail.
                                                exports.end(name, input, innerDone);
                                            }
                                        ],
                                        function(innerErr) {
                                            doneEach(innerErr, innerErr ? 1 : 0);
                                        }
                                    );
                                }, 
                                function (streamErr) {
                                    done(streamErr, streamErr ? 1 : 0);
                                }
                            );
                        }
                    ],
                    function(err) {
                        // Write the closing &lt;/stream&gt; tag.
                        if (eventWriter._headerWritten) {
                            eventWriter.close();
                        }
                        callback(err, err ? 1 : 0);
                    }
                );
            }
        });
    }
    // When getting the scheme...
    else if (args.length &gt;= 2 &amp;&amp; args[1].toString().toLowerCase() === &quot;--scheme&quot;) {
        var scheme = exports.getScheme();
        if (!scheme) {
            Logger.fatal(&quot;&quot;, &quot;script returned a null scheme.&quot;, eventWriter._err);
            callback(null, 1);
        }
        else {
            try {
                eventWriter.writeXMLDocument(scheme.toXML());
                callback(null, 0);
            }
            catch (e) {
                Logger.fatal(&quot;&quot;, &quot;script could not return the scheme, error: &quot; + e, eventWriter._err);
                callback(e, 1);
            }
        }
    }
    // When validating arguments...
    else if (args.length &gt;= 2 &amp;&amp; args[1].toString().toLowerCase() === &quot;--validate-arguments&quot;) {
        // After waiting 30.5 seconds for a validation definition, assume something bad happened
        var validationDefintionReceivedTimer = setTimeout(function() {
            callback(new Error(&quot;Receiving validation definition prior to validating timed out.&quot;), 1);
        }, 30500);
        // Listen for data on inputStream.
        inputStream.on(&quot;data&quot;, function(chunk) {
            bigBuff = Buffer.concat([bigBuff, chunk]);
            
            // Remove any trailing whitespace.
            var bufferString = bigBuff.toString(&quot;utf8&quot;, 0, bigBuff.length).trim();
            if (utils.endsWith(bufferString, &quot;&lt;/items&gt;&quot;)) {
                // If we&#39;ve received all of the validation definition, clear the timeout timer
                clearTimeout(validationDefintionReceivedTimer);
                Async.chain([
                        function (done) {
                            try {
                                // If there is no validateInput method set, accept all input.
                                if (utils.isUndefined(exports.validateInput)) {
                                    done();
                                }
                                else {
                                    // If exports.validateInput doesn&#39;t throw an error, we assume validation succeeded.
                                    var definition = ValidationDefinition.parse(bigBuff.toString(&quot;utf8&quot;, 0, bigBuff.length));
                                    exports.validateInput(definition, done);
                                }
                            }
                            catch (e) {
                                // If exports.validateInput throws an error, we assume validation failed.
                                done(e);
                            }
                        }
                    ],
                    function (err) {
                        if (err) {
                            Logger.error(&quot;&quot;, err.message);
                            Logger.error(&quot;&quot;, &quot;Stack trace for a modular input error: &quot; + err.stack);
                            try {
                                var errorRoot = ET.Element(&quot;error&quot;);
                                ET.SubElement(errorRoot, &quot;message&quot;).text = err.message;
                                eventWriter.writeXMLDocument(errorRoot);
                                callback(err, 1); // Some error while validating the input.
                            }
                            catch (e) {
                                callback(e, 1); // Error trying to write the error.
                            }
                        }
                        else {
                            callback(null, 0); // No error
                        }
                    }
                );
            }
        });
    }
    // When we get unexpected args...
    else {
        var msg = &quot;Invalid arguments to modular input script: &quot; + args.join() + &quot;\n&quot;;
        Logger.error(&quot;&quot;, msg, eventWriter._err);
        callback(msg, 1);
    }
};</code></pre>
            </section>
          </section>
                  <section class="method well" id="splunkjs.ModularInputs.ModularInput+service">
            <header>
              <div class="method-header">
                <h3 class="method-name">service</h3>
              </div>
              <h5 class="signature">splunkjs.ModularInputs.ModularInput.service</h5>
            </header>
          
            <section class="content">
              <p>Returns a <code>splunkjs.Service</code> object for this script invocation.</p>
<p>The service object is created from the Splunkd URI and session key passed to the command invocation on the modular input stream. It is available as soon as the <code>ModularInput.streamEvents</code> function is called.</p>
            </section>
            
            <section class="syntax">
                          <h4>Syntax</h4>
              <span>ModularInput.service = function()</span>
            </section>
            
            <section class="params">
            </section>
            
            <section class="returns">
                                      <h4>Return</h4>
              <span class="return-type">Object</span>. <p>A <code>Splunkjs.Service</code> Object, or null if you call this function before the <code>ModularInput.streamEvents</code> function is called.</p>
            </section>
            
            <section class="examples">
            </section>
                        
            <section class="code">
              
              <h4 class="code-link">Source (<a target="_blank" href="https://github.com/splunk/splunk-sdk-javascript/blob/master/lib/modularinputs/modularinput.js#L230">lib/modularinputs/modularinput.js:230</a>)</h4>  
              <a class="btn btn-mini code-toggle"><i class="icon-plus"></i></a>
              
              <pre class="hidden" class="linenums pre-scrollable"><code>ModularInput.service = function() {
    if (this._service) {
        return this._service;
    }
    if (!this._inputDefinition) {
        return null;
    }
    var splunkdURI = this._inputDefinition.metadata[&quot;server_uri&quot;];
    var sessionKey = this._inputDefinition.metadata[&quot;session_key&quot;];
    var urlParts = url.parse(splunkdURI);
    // urlParts.protocol will have a trailing colon; remove it.
    var scheme = urlParts.protocol.replace(&quot;:&quot;, &quot;&quot;);
    var splunkdHost = urlParts.hostname;
    var splunkdPort = urlParts.port;
    this._service = new Service({
        scheme: scheme,
        host: splunkdHost,
        port: splunkdPort,
        token: sessionKey
    });
    return this._service;
};
// Default to empty functions for life cycle events.</code></pre>
            </section>
          </section>
                  <section class="method well" id="splunkjs.ModularInputs.ModularInput+setup">
            <header>
              <div class="method-header">
                <h3 class="method-name">setup</h3>
              </div>
              <h5 class="signature">splunkjs.ModularInputs.ModularInput.setup</h5>
            </header>
          
            <section class="content">
              <p>Runs before streaming begins.</p>
            </section>
            
            <section class="syntax">
                          <h4>Syntax</h4>
              <span>ModularInput.prototype.setup = function(done)</span>
            </section>
            
            <section class="params">
                          <h4>Parameters</h4>
              
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                                  <tr>
                    <td class="param-name">done</td>
                    <td class="param-type">Function</td>
                    <td class="param-description"><p>The function to call when done: <code>(err)</code>.</p></td>
                  </tr>
                </tbody>
              </table>
            </section>
            
            <section class="returns">
            </section>
            
            <section class="examples">
            </section>
                        
            <section class="code">
              
              <h4 class="code-link">Source (<a target="_blank" href="https://github.com/splunk/splunk-sdk-javascript/blob/master/lib/modularinputs/modularinput.js#L267">lib/modularinputs/modularinput.js:267</a>)</h4>  
              <a class="btn btn-mini code-toggle"><i class="icon-plus"></i></a>
              
              <pre class="hidden" class="linenums pre-scrollable"><code>ModularInput.prototype.setup = function(done) {
    done();
};</code></pre>
            </section>
          </section>
                  <section class="method well" id="splunkjs.ModularInputs.ModularInput+start">
            <header>
              <div class="method-header">
                <h3 class="method-name">start</h3>
              </div>
              <h5 class="signature">splunkjs.ModularInputs.ModularInput.start</h5>
            </header>
          
            <section class="content">
              <p>Runs once the streaming starts, for an input.</p>
            </section>
            
            <section class="syntax">
                          <h4>Syntax</h4>
              <span>ModularInput.prototype.start = function(name, definition, done)</span>
            </section>
            
            <section class="params">
                          <h4>Parameters</h4>
              
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                                  <tr>
                    <td class="param-name">name</td>
                    <td class="param-type">String</td>
                    <td class="param-description"><p>The name of this modular input.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">definition</td>
                    <td class="param-type">Object</td>
                    <td class="param-description"><p>An InputDefinition object.</p></td>
                  </tr>
                                  <tr>
                    <td class="param-name">done</td>
                    <td class="param-type">Function</td>
                    <td class="param-description"><p>The function to call when done: <code>(err)</code>.</p></td>
                  </tr>
                </tbody>
              </table>
            </section>
            
            <section class="returns">
            </section>
            
            <section class="examples">
            </section>
                        
            <section class="code">
              
              <h4 class="code-link">Source (<a target="_blank" href="https://github.com/splunk/splunk-sdk-javascript/blob/master/lib/modularinputs/modularinput.js#L278">lib/modularinputs/modularinput.js:278</a>)</h4>  
              <a class="btn btn-mini code-toggle"><i class="icon-plus"></i></a>
              
              <pre class="hidden" class="linenums pre-scrollable"><code>ModularInput.prototype.start = function(name, definition, done) {
    done();
};</code></pre>
            </section>
          </section>
                  <section class="method well" id="splunkjs.ModularInputs.ModularInput+teardown">
            <header>
              <div class="method-header">
                <h3 class="method-name">teardown</h3>
              </div>
              <h5 class="signature">splunkjs.ModularInputs.ModularInput.teardown</h5>
            </header>
          
            <section class="content">
              <p>Runs after all streaming is done for all inputs definitions.</p>
            </section>
            
            <section class="syntax">
                          <h4>Syntax</h4>
              <span>ModularInput.prototype.teardown = function(done)</span>
            </section>
            
            <section class="params">
                          <h4>Parameters</h4>
              
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                  </tr>
                </thead>
                <tbody>
                                  <tr>
                    <td class="param-name">done</td>
                    <td class="param-type">Function</td>
                    <td class="param-description"><p>The function to call when done: <code>(err)</code>.</p></td>
                  </tr>
                </tbody>
              </table>
            </section>
            
            <section class="returns">
            </section>
            
            <section class="examples">
            </section>
                        
            <section class="code">
              
              <h4 class="code-link">Source (<a target="_blank" href="https://github.com/splunk/splunk-sdk-javascript/blob/master/lib/modularinputs/modularinput.js#L298">lib/modularinputs/modularinput.js:298</a>)</h4>  
              <a class="btn btn-mini code-toggle"><i class="icon-plus"></i></a>
              
              <pre class="hidden" class="linenums pre-scrollable"><code>ModularInput.prototype.teardown = function(done) {
        done();
    };
    module.exports = ModularInput;
})();</code></pre>
            </section>
          </section>
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
                
        </div><!--/span-->
      </div><!--/row-->
      <hr>
      <footer>
        <p>&copy; Splunk 2012</p>
      </footer>
    </div><!--/.fluid-container-->
    <!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/jquery.js"></script>
    <script src="assets/js/bootstrap-transition.js"></script>
    <script src="assets/js/bootstrap-alert.js"></script>
    <script src="assets/js/bootstrap-modal.js"></script>
    <script src="assets/js/bootstrap-dropdown.js"></script>
    <script src="assets/js/bootstrap-scrollspy.js"></script>
    <script src="assets/js/bootstrap-tab.js"></script>
    <script src="assets/js/bootstrap-tooltip.js"></script>
    <script src="assets/js/bootstrap-popover.js"></script>
    <script src="assets/js/bootstrap-button.js"></script>
    <script src="assets/js/bootstrap-collapse.js"></script>
    <script src="assets/js/bootstrap-carousel.js"></script>
    <script src="assets/js/bootstrap-typeahead.js"></script>
    
    <script>
      $(function() {
        $("a.code-toggle").click(function(e) {
          var code = $(this).parent().children("pre");
          var isHidden = code.hasClass("hidden");
          
          if (isHidden) {
            $(code).removeClass("hidden");  
            $(this).children("i").addClass("icon-minus");
            $(this).children("i").removeClass("icon-plus");
          }
          else {
            $(code).addClass("hidden");  
            $(this).children("i").addClass("icon-plus");
            $(this).children("i").removeClass("icon-minus");
          }
          
          e.preventDefault();
          e.stopPropagation();
        });
      });
    </script>
    <script>
      (function (hijs) {
      //
      // hijs - JavaScript Syntax Highlighter
      //
      // Copyright (c) 2010 Alexis Sellier
      //
      // All elements which match this will be syntax highlighted.
      var selector = hijs || "code";
      var keywords = ('var function if else for while break switch case do new null in with void '
                     +'continue delete return this true false throw catch typeof with instanceof').split(' '),
          special  = ('eval window document undefined NaN Infinity parseInt parseFloat '
                     +'encodeURI decodeURI encodeURIComponent decodeURIComponent').split(' ');
      // Syntax definition
      // The key becomes the class name of the <span>
      // around the matched block of code.
      var syntax = [
        ['comment', /(\/\*(?:[^*\n]|\*+[^\/*])*\*+\/)/g],
        ['comment', /(\/\/[^\n]*)/g],
        ['string' , /("(?:(?!")[^\\\n]|\\.)*"|'(?:(?!')[^\\\n]|\\.)*')/g],
        ['regexp' , /(\/.+\/[mgi]*)(?!\s*\w)/g],
        ['class'  , /\b([A-Z][a-zA-Z]+)\b/g],
        ['number' , /\b([0-9]+(?:\.[0-9]+)?)\b/g],
        ['keyword', new(RegExp)('\\b(' + keywords.join('|') + ')\\b', 'g')],
        ['special', new(RegExp)('\\b(' + special.join('|') + ')\\b', 'g')]
      ];
      var nodes, table = {};
      if (/^[a-z]+$/.test(selector)) {
          nodes = document.getElementsByTagName(selector);
      } else if (/^\.[\w-]+$/.test(selector)) {
          nodes = document.getElementsByClassName(selector.slice(1));
      } else if (document.querySelectorAll) {
          nodes = document.querySelectorAll(selector);
      } else {
          nodes = [];
      }
      for (var i = 0, children; i < nodes.length; i++) {
          children = nodes[i].childNodes;
          for (var j = 0, str; j < children.length; j++) {
              code = children[j];
              if (code.length >= 0) { // It's a text node
                  // Don't highlight command-line snippets
                  if (! /^\$/.test(code.nodeValue.trim())) {
                      syntax.forEach(function (s) {
                          var k = s[0], v = s[1];
                          code.nodeValue = code.nodeValue.replace(v, function (_, m) {
                              return '\u00ab' + encode(k) + '\u00b7'
                                              + encode(m) +
                                     '\u00b7' + encode(k) + '\u00bb';
                          });
                      });
                  }
              }
          }
      }
      for (var i = 0; i < nodes.length; i++) {
          nodes[i].innerHTML =
              nodes[i].innerHTML.replace(/\u00ab(.+?)\u00b7(.+?)\u00b7\1\u00bb/g, function (_, name, value) {
                  value = value.replace(/\u00ab[^\u00b7]+\u00b7/g, '').replace(/\u00b7[^\u00bb]+\u00bb/g, '');
                  return '<span class="' + decode(name) + '">' + escape(decode(value)) + '</span>';
          });
      }
      function escape(str) {
          return str.replace(/</g, '&lt;').replace(/>/g, '&gt;');
      }
      // Encode ASCII characters to, and from Braille
      function encode (str, encoded) {
          table[encoded = str.split('').map(function (s) {
              if (s.charCodeAt(0) > 127) { return s }
              return String.fromCharCode(s.charCodeAt(0) + 0x2800);
          }).join('')] = str;
          return encoded;
      }
      function decode (str) {
          if (str in table) {
              return table[str];
          } else {
              return str.trim().split('').map(function (s) {
                  if (s.charCodeAt(0) - 0x2800 > 127) { return s }
                  return String.fromCharCode(s.charCodeAt(0) - 0x2800);
              }).join('');
          }
      }
      })(window.hijs);
    </script>
  </body>
</html>